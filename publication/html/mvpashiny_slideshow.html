<!DOCTYPE html>
<html>
  <head>
    <title>mvpaShiny - step by step</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <style type="text/css">
      @import url(https://fonts.googleapis.com/css?family=Yanone+Kaffeesatz);
      @import url(https://fonts.googleapis.com/css?family=Droid+Serif:400,700,400italic);
      @import url(https://fonts.googleapis.com/css?family=Ubuntu+Mono:400,700,400italic);

      body { font-family: 'Droid Serif'; }
      h1, h2, h3 {
        font-family: 'Yanone Kaffeesatz';
        font-weight: normal;
      }
      .remark-code, .remark-inline-code { font-family: 'Ubuntu Mono'; }
    </style>
  </head>
  <body>
    <textarea id="source">


# mvpaShiny 

This slide deck contains looped
GIFs that show how to work with mvpaShiny, using the
HOMA-IR study dataset. However, not all plots shown in the manuscript are recreated.
For a detailed description on how the plots and tables
for the manuscript were created, please consult the <a href="https://liningtonlab.github.io/mvpaShiny_documentation/publication/R_script/" target="_blank" rel="noopener noreferrer">mvpa R workflow</a>.

## How to navigate

Press the left and right arrow keys to navigate through the slide deck.

Press **P** to open a presenter mode that reveils additional notes to each slide.

## Resources

Either download the mvpaShiny package and work locally <a href="https://github.com/liningtonlab/mvpaShiny" target="_blank" rel="noopener noreferrer">(link)</a>

or use the online version on <a href="http://www.mvpashiny.org" target="_blank" rel="noopener noreferrer">www.mvpashiny.org</a>!

---
# 1. Load, standardize and save the HOMA-IR dataset

<img src="img/1_LoadAndStandardizeData.gif"
	 style="object-fit:fill;
            width:800px;
            height:auto;
            border: solid 1px #CCC"/>
---
# 2. Inspect variable statistics

<img src="img/2_InspectFullDataset.gif"
	 style="object-fit:fill;
            width:800px;
            height:auto;
            border: solid 1px #CCC"/>
---
# 3. Create the HOMA-IR - lipoproteins subset

<img src="img/3_CreateHOMOIRLipoproteinSubset.gif"
	 style="object-fit:fill;
            width:800px;
            height:auto;
            border: solid 1px #CCC"/>
???
Press the control (Windows) or command (MacOS) key to select variables or objects one after another.

Press the shift key to select several items as shown in the clip.
			
---
# 4. Perform PLS-R to obtain target scores **t<sub>TP</sub>**

<img src="img/4_HOMAIRLipoproteinPLSR.gif"
	 style="object-fit:fill;
            width:800px;
            height:auto;
            border: solid 1px #CCC"/>

???
Setting a seed is not mandatory but 
enables a reproducible Monte-Carlo resampling procedure.
---
# 5. Inspect PLS-R model

<img src="img/5_HOMAIRLipoproteinPLSRModel.gif"
	 style="object-fit:fill;
            width:800px;
            height:auto;
            border: solid 1px #CCC"/>

---
# 6. Transfer **t<sub>TP</sub>** to dataset

<img src="img/6_TransferTTPToCurrentData.gif"
	 style="object-fit:fill;
            width:800px;
            height:auto;
            border: solid 1px #CCC"/>
???
The target score **t<sub>TP</sub>** is obtained from the Target Projection method on
the PLS-R model, using the determined optimal number of components
and using the full dataset.

Short reminder: Here, we use the target score as a proxy for the explained variance in HOMA-IR of all the lipoproteins. It is effectively a dimension reduction step.


---
# 7. Inspect customized correlation matrix

<img src="img/7_InspectionTabCorrelation.gif"
	 style="object-fit:fill;
            width:800px;
            height:auto;
            border: solid 1px #CCC"/>

---
# 8. Perform covariate projection

<img src="img/8_CovariateProjectionEnhancedDataset.gif"
	 style="object-fit:fill;
            width:800px;
            height:auto;
            border: solid 1px #CCC"/>

???
Keep in mind that the order in which the covariates are selected matters and affects the resulting tables.
---
# 9. Use adjusted dataset as current dataset

<img src="img/9_MoveAdjustedDataToCurrent.gif"
	 style="object-fit:fill;
            width:800px;
            height:auto;
            border: solid 1px #CCC"/>

???
When saving a dataset, mvpaShiny performs a check to see if the dataset
is fit for the downstream analyses, such as PLS-R. That is why the invariant (variance = 0)
variables have to be removed, before the dataset can be saved.
			
---
# 10. Create subset without lipoproteins

<img src="img/10_Figure4CCreation.gif"
	 style="object-fit:fill;
            width:800px;
            height:auto;
            border: solid 1px #CCC"/>
			
---
# 11. Perform PLS-R

<img src="img/11_Figure4CPLSR.gif"
	 style="object-fit:fill;
            width:800px;
            height:auto;
            border: solid 1px #CCC"/>
			
---
# 12. Inspect selectivity ratios and fractions

<img src="img/12_Figure4CPLSRResults.gif"
	 style="object-fit:fill;
            width:800px;
            height:auto;
            border: solid 1px #CCC"/>
								

    </textarea>
    <script src="https://remarkjs.com/downloads/remark-latest.min.js" type="text/javascript">
    </script>
    <script type="text/javascript">
      var slideshow = remark.create();
    </script>
  </body>
</html>